import{j as y,k as v,a as h,o as u,c as V,f as t,b as r,w as o,u as e,i as m,F as k,d as l,_ as E,t as p}from"./index-de1de77c.js";import{u as C}from"./authStore-ccfd02ee.js";import{L}from"./Loader-6cf549cd.js";import{G as g,V as f,W as x,U as _}from"./dialog-d9e7f5fe.js";const S={class:"container mx-auto mt-8"},j={class:"fixed top-0 flex w-screen items-center justify-end p-2"},A={class:"fixed top-0 flex w-screen items-center justify-end p-2"},B=r("h2",{class:"text-center text-2xl font-bold"},"Iniciar sesión",-1),F=r("p",{class:"text-gray-600 text-center"},[l("Debes estár registrado como "),r("span",{class:"text-red-500"},"Administrador"),l(" para poder agregar, modificar o eliminar el menú.")],-1),M={class:"w-11/12 md:w-6/12 mt-11 mx-auto"},$={__name:"LoginView",setup(U){const a=C(),b=y(),n=v({email:"",password:""}),w=c=>{try{a.login(c),setTimeout(()=>{b.push({name:"current-menu"})},3e3)}catch(s){console.log(s)}};return(c,s)=>{const d=h("FormKit");return u(),V(k,null,[t(E),r("main",S,[t(e(_),{open:!!e(a).currentError,class:"relative z-50"},{default:o(()=>[r("div",j,[t(e(g),{class:"w-full max-w-sm rounded-lg bg-red-200 p-5"},{default:o(()=>[t(e(f),{class:"text-red-600 font-bold text-2xl"},{default:o(()=>[l("Error")]),_:1}),t(e(x),{class:"text-gray-600"},{default:o(()=>[l(p(e(a).currentError),1)]),_:1}),r("button",{onClick:s[0]||(s[0]=i=>e(a).currentError=""),class:"mt-4 py-1 px-8 bg-white rounded-lg text-red-600 hover:bg-gray-50 outline-none"},"Agree")]),_:1})])]),_:1},8,["open"]),t(e(_),{open:!!e(a).successMessage,class:"relative z-50"},{default:o(()=>[r("div",A,[t(e(g),{class:"w-full max-w-sm rounded-lg bg-green-200 p-5"},{default:o(()=>[t(e(f),{class:"text-green-600 font-bold text-2xl"},{default:o(()=>[l("Success")]),_:1}),t(e(x),{class:"text-gray-600"},{default:o(()=>[l(p(e(a).successMessage),1)]),_:1}),r("button",{onClick:s[1]||(s[1]=i=>e(a).successMessage=""),class:"mt-4 py-1 px-8 bg-white rounded-lg text-green-600 hover:bg-gray-50 outline-none"},"Agree")]),_:1})])]),_:1},8,["open"]),B,F,r("div",M,[e(a).loading||e(a).successMessage?(u(),m(L,{key:0})):(u(),m(d,{key:1,type:"form",onSubmit:w,value:n,actions:!1},{default:o(()=>[t(d,{type:"text",name:"email",label:"E-mail",placeholder:"sushi@ejemplo.com",validation:"required|email",modelValue:n.email,"onUpdate:modelValue":s[2]||(s[2]=i=>n.email=i)},null,8,["modelValue"]),t(d,{type:"password",name:"password",label:"Contraseña",validation:"required|length:6","validation-messages":{length:"La contraseña debe tener al menos 6 caractéres",required:"La contraseña es obligatoria"},placeholder:"Tu contraseña",modelValue:n.password,"onUpdate:modelValue":s[3]||(s[3]=i=>n.password=i)},null,8,["modelValue"]),t(d,{type:"submit",label:"Iniciar sesión"})]),_:1},8,["value"]))])])],64)}}};export{$ as default};
