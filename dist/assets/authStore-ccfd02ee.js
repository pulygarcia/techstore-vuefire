import{m as d,j as g,p as h,r as o,q as m,s as v,v as f,x as p}from"./index-de1de77c.js";const x=d("auth",()=>{const r=g(),n=h(),l=o(""),s=o(null),i=o(null),a=o(""),t=o(!1),c={"auth/invalid-login-credentials":"Invalid login credentials","auth/wrong-password":"Wrong password"};return m(()=>{v(n,e=>{e&&(s.value=e,i.value=s.value.email)})}),{login:e=>{t.value=!0,f(n,e.email,e.password).then(u=>{s.value=u.user,a.value="Session started successfully",setTimeout(()=>{a.value="",r.push({name:"current-menu"})},3e3)}).catch(u=>{l.value=c[u.code]}).finally(()=>{t.value=!1})},currentUser:s,currentError:l,userName:i,logout:()=>{confirm("Se cerrará la sesión como administrador")&&p(n).then(()=>{s.value=null,a.value="User session was closed",setTimeout(()=>{a.value="",r.push({name:"login"})},3e3)}).catch(e=>{console.log(e)})},loading:t,successMessage:a}});export{x as u};
